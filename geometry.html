<html>
<body>
<script type="text/javascript">
class RectEnvir{
static rectangle = (id,name,x,y,w,h) => ({id,name,x,y,w,h});
static rectangles = [
RectEnvir.rectangle(0,'A',0, 0,2, 3 )];
InsertRectangle(name, x,y,w,h){
 let bn = RectEnvir.rectangles.length;
 console.log("обсяг0=",bn);
 let id=0;
 if (bn > 0 ) {
 id=RectEnvir.rectangles[bn-1].id+1;
};
RectEnvir.rectangles.push(RectEnvir.rectangle(id,name,x,y,w,h));
}
UnatedRectangle( idA,idB,uname) {
let A=RectEnvir.rectangles[idA];
let B=RectEnvir.rectangles[idB];
console.log('прямокутник ', A.name, ' база (',A.x,' ,',A.y,')',' ширина=',
A.w,' висота=', A.h );
console.log('прямокутник ', B.name, ' база (',B.x,' ,',B.y,')',' ширина=',
B.w,' висота=', B.h );
let x= Math.min(A.x,B.x);
let y= Math.min(A.y,B.y);
let w=Math.max(A.x+A.w,B.x+B.w) - x;
let h=Math.max(A.y+A.h,B.y+B.h) - y;
console.log("Об'єднаний прямокутник ", uname, ' база (',x,' ,',y,')',' ширина=', w,' висота=', h );
this.InsertRectangle(uname, x,y,w,h);
}
RectangleIntersection( idA,idB,iname) {
 let A=RectEnvir.rectangles[idA];
let B=RectEnvir.rectangles[idB];
console.log('прямокутник ', A.name, ' база (',A.x,' ,',A.y,')',' ширина=',
A.w,' висота=', A.h );
console.log('прямокутник ', B.name, ' база (',B.x,' ,',B.y,')',' ширина=',
B.w,' висота=', B.h );
let x= Math.max(A.x,B.x);
let y= Math.max(A.y,B.y);
let w=Math.min(A.x+A.w,B.x+B.w) - x;
let h=Math.min(A.y+A.h,B.y+B.h) - y;
console.log("Прямокутник перетину", iname, ' база (',x,' ,',y,')',' ширина=', w,' висота=', h );
if (w>0 && h>0){
this.InsertRectangle(iname, x,y,w,h);
} else {
//не записуємо пустий прямокутник
}
}
};
let Rec = new RectEnvir();
console.log("задано:");
console.log(RectEnvir.rectangles);
Rec.InsertRectangle('B',1,-1,3,2);
console.log("Додано В:");
console.log(RectEnvir.rectangles);
Rec.UnatedRectangle(0,1, 'A_B_unated');
Rec.RectangleIntersection( 0,1,'A_B_intersect');
Rec.InsertRectangle('C',3,4,3,2);
console.log("Додано C:");
console.log(RectEnvir.rectangles);
Rec.RectangleIntersection( 0,4,'A_C_intersect');
console.log("Результат:");
console.log(RectEnvir.rectangles);
</script >
</body >
</html >